<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6x6 Sudoku Solver</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: #fff; 
            margin: 0; 
            padding: 20px; 
            text-align: center;
        }
        h1 { color: #000; margin: 20px 0; }
        #grid { 
            display: grid; 
            grid-template-columns: repeat(6, 60px); 
            grid-template-rows: repeat(6, 60px); 
            gap: 2px; 
            border: 3px solid #000; 
            background: #000; 
            padding: 2px; 
            margin: 20px auto;
            width: fit-content;
        }
        .cell { 
            background: #fff; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 24px; 
            color: #000;
        }
        .cell.given { background: #f0f0f0; }
        .cell.solving { background: #ffeb3b; }
        .cell.backtrack { background: #f44336; color: #fff; }
        .cell.solved { background: #4caf50; color: #fff; }
        
        .controls { margin: 20px 0; }
        button { 
            padding: 12px 20px; 
            background: #000; 
            color: white; 
            border: none; 
            margin: 0 10px;
            cursor: pointer; 
            font-size: 16px; 
        }
        button:hover { background: #333; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        
        .stats { 
            margin: 20px 0; 
            font-size: 18px;
        }
        .stats div { margin: 5px 0; }
    </style>
</head>
<body>
    <h1>6x6 Sudoku Solver</h1>
    
    <div id="grid"></div>
    
    <div class="controls">
        <button onclick="generateProblem()">Generate Problem</button>
        <button id="solve-btn" onclick="solve()">Solve</button>
        <button onclick="stop()">Stop</button>
    </div>
    
    <div class="stats">
        <div>Steps: <span id="steps">0</span></div>
        <div>Time: <span id="time">0ms</span></div>
    </div>

    <script>
        let grid = Array.from({length: 6}, () => Array(6).fill(0));
        let solving = false;
        let steps = 0;
        let startTime = 0;

        // Easy 6x6 Sudoku problems
        const problems = [
            [
                [1,2,0,0,5,6],
                [0,0,5,6,0,0],
                [3,4,0,0,1,2],
                [5,6,0,0,3,4],
                [0,0,1,2,0,0],
                [2,1,6,5,4,3]
            ],
            [
                [0,0,0,4,5,6],
                [0,3,4,0,0,0],
                [0,0,5,0,0,2],
                [1,0,0,3,0,0],
                [0,0,0,0,2,0],
                [6,5,2,0,0,0]
            ],
            [
                [1,0,0,0,5,0],
                [0,0,5,0,0,0],
                [0,4,0,0,1,0],
                [0,6,0,0,3,0],
                [0,0,1,0,0,0],
                [0,1,0,0,0,3]
            ]
        ];

        function initGrid() {
            const gridElement = document.getElementById('grid');
            gridElement.innerHTML = '';
            
            for (let r = 0; r < 6; r++) {
                for (let c = 0; c < 6; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.id = `cell-${r}-${c}`;
                    gridElement.appendChild(cell);
                }
            }
        }

        function displayGrid() {
            for (let r = 0; r < 6; r++) {
                for (let c = 0; c < 6; c++) {
                    const cell = document.getElementById(`cell-${r}-${c}`);
                    cell.textContent = grid[r][c] || '';
                    cell.className = 'cell';
                    if (grid[r][c] !== 0) {
                        cell.classList.add('given');
                    }
                }
            }
        }

        function generateProblem() {
            stop();
            const randomProblem = problems[Math.floor(Math.random() * problems.length)];
            grid = randomProblem.map(row => [...row]);
            displayGrid();
            resetStats();
        }

        function isValid(grid, row, col, num) {
            // Check row
            for (let c = 0; c < 6; c++) {
                if (grid[row][c] === num) return false;
            }
            
            // Check column
            for (let r = 0; r < 6; r++) {
                if (grid[r][col] === num) return false;
            }
            
            // Check 2x3 box
            const boxRow = Math.floor(row / 2) * 2;
            const boxCol = Math.floor(col / 3) * 3;
            for (let r = boxRow; r < boxRow + 2; r++) {
                for (let c = boxCol; c < boxCol + 3; c++) {
                    if (grid[r][c] === num) return false;
                }
            }
            
            return true;
        }

        function findEmpty() {
            for (let r = 0; r < 6; r++) {
                for (let c = 0; c < 6; c++) {
                    if (grid[r][c] === 0) return [r, c];
                }
            }
            return null;
        }

        async function solveStep() {
            if (!solving) return false;
            
            const empty = findEmpty();
            if (!empty) return true;
            
            const [row, col] = empty;
            const cell = document.getElementById(`cell-${row}-${col}`);
            
            for (let num = 1; num <= 6; num++) {
                if (!solving) return false;
                
                if (isValid(grid, row, col, num)) {
                    grid[row][col] = num;
                    steps++;
                    updateStats();
                    
                    // Show trying
                    cell.textContent = num;
                    cell.className = 'cell solving';
                    await sleep(5);
                    
                    if (await solveStep()) {
                        cell.className = 'cell solved';
                        return true;
                    }
                    
                    // Backtrack
                    grid[row][col] = 0;
                    cell.textContent = '';
                    cell.className = 'cell backtrack';
                    await sleep(5);
                    cell.className = 'cell';
                }
            }
            
            return false;
        }

        async function solve() {
            if (solving) return;
            
            solving = true;
            startTime = Date.now();
            resetStats();
            document.getElementById('solve-btn').disabled = true;
            
            await solveStep();
            
            solving = false;
            document.getElementById('solve-btn').disabled = false;
        }

        function stop() {
            solving = false;
            document.getElementById('solve-btn').disabled = false;
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function resetStats() {
            steps = 0;
            updateStats();
        }

        function updateStats() {
            document.getElementById('steps').textContent = steps;
            const elapsed = Date.now() - startTime;
            document.getElementById('time').textContent = elapsed + 'ms';
        }

        // Initialize
        initGrid();
        generateProblem();
    </script>
</body>
</html>
